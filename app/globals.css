@import "tailwindcss";
@import "tw-animate-css";
@import "../styles/colors.css";
@import "../styles/themes.css";

@custom-variant dark (&:is(.dark *));

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
    font-family:
      var(--font-poppins),
      var(--font-roboto),
      var(--font-nunito),
      system-ui,
      -apple-system,
      BlinkMacSystemFont,
      "Segoe UI",
      sans-serif;
  }
}
.customBlur124 {
  background: rgba(15, 23, 42, 0.8); /* شیشه‌ای تیره */
  -webkit-backdrop-filter: blur(12px);
  backdrop-filter: blur(12px);
}
.customBlur164 {
  background: rgba(15, 23, 42, 0.8); /* شیشه‌ای تیره */
  -webkit-backdrop-filter: blur(16px);
  backdrop-filter: blur(16px);
}

@media (max-width: 480px) {
  .customBlur124 {
    -webkit-backdrop-filter: blur(4px);
    backdrop-filter: blur(4px);
    background: rgba(15, 23, 42, 0.92);
  }
  .customBlur164 {
    background: rgba(15, 23, 42, 0.8); /* شیشه‌ای تیره */
    -webkit-backdrop-filter: blur(4px);
    backdrop-filter: blur(4px);
  }
}

.scrollbar-hide {
  -ms-overflow-style: none; /* IE و Edge */
  scrollbar-width: none; /* Firefox */
}
.scrollbar-hide::-webkit-scrollbar {
  display: none; /* Chrome, Safari, Opera */
}

.topnav {
  /* پایه ثابت — همه جا کار می‌کنه */
  background: linear-gradient(
    to bottom,
    rgba(22, 22, 30, 0.5),
    rgba(22, 22, 30, 0.5)
  );
  background-color: rgba(255, 255, 255, 0.05);
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);

  /* ماسک محو شدن پایین */
  -webkit-mask: linear-gradient(
    to bottom,
    black 0%,
    black 60%,
    transparent 100%
  );
  mask: linear-gradient(to bottom, black 0%, black 60%, transparent 100%);

  /* مقدار پیش‌فرض: خیلی سبک (6px) — روی همه گوشی ضعیف هم عالیه */
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(6px);

  /* ترفند مهم: will-change و transform برای اینکه GPU لایه جدا بزنه و لگ نخوره */
  will-change: transform;
  transform: translateZ(0);
}

/* گوشی‌های متوسط و قوی (از 768px به بالا یا دستگاه‌هایی که hover دارن) → blur بیشتر و قشنگ‌تر */
@media (min-width: 768px) and (hover: hover) {
  .topnav {
    backdrop-filter: blur(12px);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
  }
}

/* پرچمدارها و لپ‌تاپ/دسکتاپ → حداکثر زیبایی */
@media (min-width: 1024px) {
  .topnav {
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
  }
}

/* اگر کاربر توی تنظیمات سیستم "شفافیت و بلور رو کم کن" رو فعال کرده باشه (iOS + Windows + Android جدید) */
@media (prefers-reduced-transparency: reduce) {
  .topnav {
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
    background-color: rgba(22, 22, 30, 0.85);
  }
}

/* اگر کاربر "حرکت و انیمیشن رو کم کن" رو فعال کرده (خیلی از گوشی‌های ضعیف اینو روشن می‌کنن) */
@media (prefers-reduced-motion: reduce) {
  .topnav {
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
  }
}
